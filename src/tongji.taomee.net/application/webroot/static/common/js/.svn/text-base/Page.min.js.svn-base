/*! taomee tongji javascript code by maverick 2015-02-04 */
$.page={CONST:{CSS_PAGE_BAR:"paging-bar",CSS_PAGE_BTN:"paginate-btn",CSS_PAGE_PRE:"paginate-pre",CSS_PAGE_NEXT:"paginate-next",CSS_PAGE_INDEX:"page-index",CSS_PAGE_TOTAL:"page-total",CSS_PAGE_LABEL:"paginate-label"},PageFactory:function(a){var b={showNum:5,total:1,container:$("body"),preEvent:null,nextEvent:null};$.extend(b,a),b.container.find("."+$.page.CONST.CSS_PAGE_BAR).remove();var c=this,d=Math.ceil(b.total/b.showNum);d=d?d:1;var e=$(document.createElement("div")).addClass($.page.CONST.CSS_PAGE_BAR),f=$(document.createElement("a")).addClass($.page.CONST.CSS_PAGE_PRE+" "+$.page.CONST.CSS_PAGE_BTN+" dis"),g=$(document.createElement("a")).addClass($.page.CONST.CSS_PAGE_NEXT+" "+$.page.CONST.CSS_PAGE_BTN+(1>=d?" dis":" ")),h=$(document.createElement("span")).addClass($.page.CONST.CSS_PAGE_LABEL).html(' <font class="'+$.page.CONST.CSS_PAGE_INDEX+'">1</font> / <font class="'+$.page.CONST.CSS_PAGE_TOTAL+'">'+d+"</font> ");f.add(h).add(g).appendTo(e),e.appendTo(b.container),f.click(function(a){a.stopPropagation();var e=$(this);if(!e.hasClass("dis")){var f=c.getPageIndex(),h=parseInt(f.text(),10);h--,f.text(h),d>h&&g.hasClass("dis")&&g.removeClass("dis"),1>=h&&!e.hasClass("dis")&&e.addClass("dis"),b.preEvent&&b.preEvent(h,b.showNum)}}),g.click(function(a){a.stopPropagation();var e=$(this);if(!e.hasClass("dis")){var g=c.getPageIndex(),h=parseInt(g.text(),10);h++,g.text(h),h>1&&f.hasClass("dis")&&f.removeClass("dis"),h>=d&&!e.hasClass("dis")&&e.addClass("dis"),b.nextEvent&&b.nextEvent(h,b.showNum)}}),this.getPageIndex=function(){return h.find("."+$.page.CONST.CSS_PAGE_INDEX)},this.getInstance=function(){return e},this.resetPageBar=function(){this.getPageIndex().text(1),f.addClass("dis"),d>1?g.removeClass("dis"):g.addClass("dis")}}};