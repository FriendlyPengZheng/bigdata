<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.taomee.tms.mgr.dao.ServerNameInfoDao">
	<resultMap id="ServerNameInfoMap" type="com.taomee.tms.mgr.entity.ServerNameInfo">
		<id column="server_id" property="serverId" jdbcType="INTEGER" />
		<result column="game_id" property="gameId" jdbcType="VARCHAR" />
		<result column="p_name" property="pName" jdbcType="INTEGER" />
		<result column="zs_name" property="zsName" jdbcType="INTEGER" />
		<result column="status" property="status" jdbcType="INTEGER" />
	</resultMap>

	<sql id="ServerNameInfoColumnList">
		server_id, game_id, p_name, zs_name, status
	</sql>
	
	<insert id="insertServerNameInfo">
		insert into
		t_serverName_info (server_id, game_id, p_name, zs_name)
		values (#{0}, #{1}, #{2}, #{3})
	</insert>
	
	<select id="getServerNameInfosByGameId" resultMap="ServerNameInfoMap"
		parameterType="java.lang.Integer">
		select
		<include refid="ServerNameInfoColumnList" />
		from t_serverName_info
		where game_id = #{gameId,jdbcType=INTEGER} and status=0 
	</select>
	
	<update id="updateServerPNameByServerId">
		update
		t_serverName_info
		set
		p_name = #{pname}
		where server_id = #{serverId,jdbcType=INTEGER}
	</update>
	
	
	<update id="updateServerZSNameByServerId">
		update
		t_serverName_info
		set
		zs_name = #{zsname}
		where server_id = #{serverId,jdbcType=INTEGER}
	</update>
	
	
	<update id="updateServerNameStatusByServerId">
		update
		t_serverName_info
		set
		status = #{hide}
		where server_id = #{serverId,jdbcType=INTEGER}
	</update>
</mapper> 